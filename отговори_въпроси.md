# Отговори на въпроси за цифрова обработка на сигнали

## 3.1. Каква е разликата между хистограма на цифров сигнал и нормирана хистограма на цифров сигнал?

### Хистограма на цифров сигнал

Хистограмата на цифров сигнал показва **разпределението на стойностите** на сигнала в оригиналния им диапазон. Тя показва:

- **Абсолютен брой срещания** на всяка стойност или диапазон от стойности
- **Оригиналния диапазон** на стойностите на сигнала (например от -32768 до 32767 за 16-битов аудио)
- **Реалните стойности** на амплитудите без модификация

**Характеристики:**

- По оста X се показват оригиналните стойности на сигнала
- По оста Y се показва абсолютният брой срещания на всяка стойност
- Показва пълния динамичен диапазон на сигнала

### Нормирана хистограма на цифров сигнал

Нормираната хистограма показва разпределението на стойностите след **нормализация** на сигнала към стандартизиран диапазон (обикновено 0-255 или 0-1). Тя показва:

- **Разпределението на стойностите** в нормализирания диапазон
- **Относителната честота** на срещане на всяка стойност
- **Квантуваните стойности** след нормализация

**Характеристики:**

- По оста X се показват стойностите в нормализирания диапазон (0-255)
- По оста Y показва броя срещания на всяка нормализирана стойност
- Полезно за анализ на квантуване и разпределение на данните в стандартизиран формат

### Ключови разлики:

| Аспект                      | Обикновена хистограма                                  | Нормирана хистограма                                                   |
| --------------------------- | ------------------------------------------------------ | ---------------------------------------------------------------------- |
| **Диапазон на стойностите** | Оригинален (напр. -32768 до 32767)                     | Нормализиран (напр. 0 до 255)                                          |
| **Интерпретация**           | Показва реалните стойности на сигнала                  | Показва квантуваните/нормализираните стойности                         |
| **Приложение**              | Анализ на динамичен диапазон, дистрибуция на амплитуди | Анализ на квантуване, подготовка за обработка, сравнение между сигнали |
| **Независимост от мащаба**  | Зависи от мащаба на сигнала                            | Независима от оригиналния мащаб                                        |

### Практическо значение:

- **Обикновената хистограма** е полезна за:

  - Анализ на динамичния диапазон на сигнала
  - Откриване на клипиране (clipping)
  - Понимане на разпределението на амплитудите в оригиналния формат

- **Нормираната хистограма** е полезна за:
  - Анализ на ефективността на квантуването
  - Подготовка на данни за обработка (например за изображения)
  - Сравнение между различни сигнали независимо от техния оригинален мащаб
  - Визуализация на разпределението в стандартизиран формат

---

## 3.2. Каква е ползата от прилагането на бързо преобразуване на Фурие (FFT) върху цифровия сигнал?

Бързото преобразуване на Фурие (Fast Fourier Transform, FFT) е алгоритъм за ефективно изчисляване на дискретното преобразуване на Фурие (DFT). Прилагането му върху цифров сигнал има множество предимства:

### 1. **Ефективност на изчисленията**

- **Сложност:** FFT намалява сложността от O(N²) до O(N log N), където N е броят на пробите
- **Скорост:** При големи сигнали (хиляди или милиони проби) FFT е **стотици до хиляди пъти по-бърз** от директното изчисляване на DFT
- **Реално време:** Позволява обработка в реално време за приложения като аудио обработка, комуникации и сигнална обработка

### 2. **Честотен анализ**

- **Разлагане на честоти:** FFT разлага сигнала на неговите честотни компоненти
- **Спектрална информация:** Показва кои честоти присъстват в сигнала и с каква амплитуда
- **Скрити честоти:** Открива честоти, които не са видими в времевата област

### 3. **Приложения в обработката на сигнали**

#### Анализ и диагностика:

- **Аудио анализ:** Откриване на доминиращи тонове, хармоници, шум
- **Вибрационен анализ:** Откриване на проблеми в машини чрез анализ на вибрации
- **Медицинска диагностика:** Анализ на ЕКГ, ЕЕГ сигнали

#### Филтриране:

- **Честотни филтри:** Премахване на нежелани честоти (шум, интерференция)
- **Еквалайзери:** Регулиране на амплитудите на различни честотни ленти
- **Шумоподавяне:** Идентификация и премахване на шум в специфични честотни диапазони

#### Компресия:

- **Аудио компресия:** MP3, AAC използват FFT за кодиране
- **Изображения:** JPEG използва подобни техники (DCT)
- **Видео:** MPEG стандартите използват честотни трансформации

#### Комуникации:

- **Модулация:** OFDM (Orthogonal Frequency Division Multiplexing) използва FFT
- **WiFi, 4G/5G:** Много съвременни комуникационни системи разчитат на FFT
- **Радио комуникации:** Анализ и обработка на радио сигнали

### 4. **Спектрални характеристики**

- **Спектрална плътност на мощността:** Анализ на разпределението на енергията по честоти
- **Хармоничен анализ:** Откриване на хармоници и интермодулация
- **Фазова информация:** Анализ на фазовите отношения между честоти

### 5. **Сравнение и разпознаване**

- **Разпознаване на образци:** Сравнение на сигнали в честотната област
- **Гласово разпознаване:** Анализ на честотни характеристики на реч
- **Музикална идентификация:** Shazam и подобни приложения използват спектрални характеристики

### 6. **Време-честотен анализ**

- **Короткочестотно преобразуване на Фурие (STFT):** Анализ на променящи се честоти във времето
- **Спектрограми:** Визуализация на честотния съдържание във времето
- **Музикални приложения:** Анализ на ноти, акорди, ритъм

### Практически пример от кода:

В проекта се използва FFT за:

```python
# FFT анализ на аудио канали
left_channel_fft = np.fft.fft(left_channel)
frequencies = np.fft.fftfreq(len(left_channel), 1 / sample_rate)
```

Това позволява:

- Визуализация на честотния спектър
- Сравнение между левия и десния канал
- Анализ на честотните характеристики на гласа

---

## 3.3. Каква информация можем да извлечем от спектъра на цифров сигнал?

Спектърът на цифров сигнал (получен чрез FFT) съдържа богата информация за сигнала. Ето основните типове информация, които можем да извлечем:

### 1. **Честотни компоненти**

#### Доминиращи честоти:

- **Основни тонове:** Най-силните честоти в сигнала
- **Хармоници:** Кратни на основната честота (2f, 3f, 4f, ...)
- **Субхармоници:** Делители на основната честота (f/2, f/3, ...)

#### Честотен диапазон:

- **Минимална честота:** Най-ниската значима честота
- **Максимална честота:** Най-високата значима честота (ограничена от честотата на Найкуист)
- **Честотна лента:** Диапазонът между минималната и максималната честота

### 2. **Амплитудна информация**

#### Енергия и мощност:

- **Спектрална амплитуда:** Амплитудата на всяка честота
- **Спектрална мощност:** Квадрат на амплитудата (енергия)
- **Обща енергия:** Сумата от енергиите на всички честоти

#### Разпределение на енергията:

- **Доминиращи честотни ленти:** Къде е концентрирана основната енергия
- **Енергийно разпределение:** Как енергията е разпределена в честотния диапазон
- **Спектрална плътност:** Енергия на единица честота

### 3. **Фазова информация**

- **Фазов спектър:** Фазовите отношения между различните честоти
- **Фазови забавяния:** Забавяния между различни честотни компоненти
- **Кохерентност:** Съгласуваност между фазите на различни честоти

### 4. **Характеристики на сигнала**

#### За аудио сигнали:

- **Тон и височина:** Основната честота определя тона
- **Тембър:** Разпределението на хармониците определя тембъра
- **Формантни честоти:** Характерни честоти за реч и пеене
- **Шум:** Широколентови компоненти без ясна честота

#### За комуникационни сигнали:

- **Носеща честота:** Основната честота на пренос
- **Модулация:** Тип и параметри на модулацията
- **Интерференция:** Присъстващи смущаващи сигнали

### 5. **Спектрални характеристики**

#### Статистически параметри:

- **Средна честота:** Среднопретеглената честота
- **Централна честота:** Честотата, около която е концентрирана енергията
- **Спектрална дисперсия:** Разпространение на енергията около централната честота
- **Спектрална асиметрия:** Асиметрия в разпределението

#### Спектрални индекси:

- **Спектрална ентропия:** Мярка за сложността на спектъра
- **Спектрална острота:** Мярка за "рязкостта" на спектъра
- **Спектрален център:** Център на тежестта на спектъра

### 6. **Време-честотна информация (при STFT)**

- **Променящи се честоти:** Как честотите се променят във времето
- **Спектрограма:** 2D визуализация (време × честота × амплитуда)
- **Честотни събития:** Моменти, когато се появяват или изчезват честоти

### 7. **Практически приложения на извлечената информация**

#### Аудио анализ:

- **Разпознаване на инструменти:** Различните инструменти имат различни спектрални характеристики
- **Разпознаване на гласове:** Гласовете имат уникални формантни честоти
- **Детекция на ноти:** Музикалните ноти съответстват на специфични честоти
- **Анализ на качеството:** Оценка на качеството на аудио запис

#### Медицински приложения:

- **ЕКГ анализ:** Откриване на аритмии, аномалии
- **ЕЕГ анализ:** Анализ на мозъчни вълни (алфа, бета, гама)
- **Пулсова оксиметрия:** Анализ на кръвно налягане и кислород

#### Инженерни приложения:

- **Вибрационен анализ:** Откриване на проблеми в машини
- **Структурен анализ:** Анализ на резонансни честоти
- **Акустичен анализ:** Анализ на звукоизолация, ехо

#### Комуникации:

- **Детекция на сигнали:** Откриване на присъстващи сигнали
- **Анализ на канала:** Характеристики на комуникационния канал
- **Оптимизация:** Настройка на параметрите на пренос

### 8. **Сравнение и класификация**

- **Подобие между сигнали:** Сравнение на спектрални характеристики
- **Класификация:** Групиране на сигнали по спектрални характеристики
- **Аномалии:** Откриване на необичайни спектрални модели

### Пример от кода:

В проекта спектърът се използва за:

```python
# Извличане на честотни компоненти
frequencies = np.fft.fftfreq(len(samples), 1.0 / sample_rate)
amplitudes = np.abs(fft_result)
```

От това можем да извлечем:

- **Доминиращи честоти:** Чрез намиране на пикове в амплитудите
- **Енергийно разпределение:** Чрез анализ на амплитудите
- **Сравнение между канали:** Чрез сравнение на спектрите на левия и десния канал
- **Характеристики на гласа:** Формантни честоти, основен тон, хармоници

---

## Заключение

Трите концепции са взаимосвързани:

- **Хистограмите** показват разпределението на стойностите в **времевата област**
- **FFT** преобразува сигнала в **честотната област**
- **Спектърът** разкрива богата информация за честотните характеристики на сигнала

Заедно те предоставят пълна картина на цифровия сигнал както във времевата, така и в честотната област.
